function UpgradeToSubscription(e,t,r,n,a,o,s){let i=e.parentElement.parentElement.parentElement.querySelector(".quantity__input").value,c={id:o,quantity:0,sections:"cart-drawer,cart-icon-bubble",sections_url:window.location.pathname};return fetch(window.Shopify.routes.root+"cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(e=>e.json()).then(o=>{console.log(o),console.log("Removed line item and replacing it with subscription item..."),a>1&&(n=`${n}s`);let c={items:[{id:t,quantity:i,properties:{"Delivery Frequency":`${a} ${n}`,_subscription_id:r,_shipping_interval_unit_type:n,_shipping_interval_frequency:a,_upgrade_to_subscription:"Yes",_original_price:s}}],sections:"cart-drawer,cart-icon-bubble",sections_url:window.location.pathname};fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(e=>e.json()).then(t=>{console.log(t),e.parentElement.parentElement.parentElement.querySelector(".quantity__input").dispatchEvent(new Event("change",{bubbles:!0}))}).catch(e=>{console.error("Error:",e)})}).catch(e=>{console.error("Error:",e)}),!1}null!=document.querySelector(".homepage-transparent-header")&&(null!=document.querySelector("header-menu>details")&&document.querySelectorAll("header-menu>details>summary").forEach(function(e){e.addEventListener("click",function(){e.closest(".mega-menu").hasAttribute("open")?e.closest(".header-wrapper").classList.remove("open-megamenu"):e.closest(".header-wrapper").classList.add("open-megamenu")})}),document.addEventListener("click",function(e){document.querySelectorAll("header-menu>details").forEach(function(t){document.querySelector("header-drawer>details").hasAttribute("open")?!document.querySelector("header-drawer").closest("header").contains(e.target)&&t.closest(".header-wrapper").classList.contains("open-megamenu")&&t.closest(".header-wrapper").classList.remove("open-megamenu"):!document.querySelector("header-drawer").contains(e.target)&&!t.contains(e.target)&&t.closest(".header-wrapper").classList.contains("open-megamenu")&&t.closest(".header-wrapper").classList.remove("open-megamenu")})}),null!=document.querySelector("header-drawer>details")&&document.querySelectorAll("header-drawer>details>summary").forEach(function(e){e.addEventListener("click",function(){e.closest("details").hasAttribute("open")?e.closest(".header-wrapper").classList.remove("open-megamenu"):e.closest(".header-wrapper").classList.add("open-megamenu")})}));var controller=new ScrollMagic.Controller;document.querySelectorAll(".fadeInAnimate").forEach(e=>{let t=new TimelineMax().add([TweenMax.fromTo(e,2,{y:50},{y:0,ease:Back.easeOut}),TweenMax.fromTo(e,1,{opacity:0,scale:.99},{opacity:1,scale:1,ease:Linear.easeOut}),]);this.enterFadeScene=new ScrollMagic.Scene({triggerElement:e,triggerHook:"onEnter",offset:100,duration:$(window).height()/2}).setTween(t).addTo(controller)});let offerCheck;offerCheck=setInterval(function(){let e=document.querySelector(".product-price-wrapper");if(null!=e){let t=e.textContent.split(" ").join("");e.textContent=t}},500);class SubscriptionUpgrade extends HTMLElement{constructor(){super()}connectedCallback(){this.querySelector("#upgrade-subscription").addEventListener("click",e=>{e.preventDefault(),this.upgradeSubscription(this,this.getAttribute("data-line"),this.getAttribute("data-selling-plan"))})}upgradeSubscription(e,t,r){fetch(window.Shopify.routes.root+"cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line:t,selling_plan:r})}).then(e=>e.json()).then(t=>{e.parentElement.parentElement.parentElement.querySelector(".quantity__input").dispatchEvent(new Event("change",{bubbles:!0}))}).catch(e=>{console.error("Error:",e)})}}customElements.define("subs-upgrade",SubscriptionUpgrade);